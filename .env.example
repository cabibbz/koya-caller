# ==============================================================================
# Koya Caller - Environment Variables Template
# ==============================================================================
# Copy this file to .env.local and fill in your values
# NEVER commit .env.local to version control
#
# Required variables are marked with [REQUIRED]
# Optional variables have sensible defaults

# ==============================================================================
# Supabase [REQUIRED]
# ==============================================================================
# Get these from: https://supabase.com/dashboard/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL=https://your-project-ref.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# Service role key - ONLY use server-side, never expose to client
# Required for admin operations like setting tenant_id
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ==============================================================================
# Application URLs [REQUIRED]
# ==============================================================================
# Local development
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# Production - update this to your actual domain
NEXT_PUBLIC_APP_URL=https://koyacaller.com

# ==============================================================================
# Twilio [REQUIRED for phone features]
# ==============================================================================
# Get these from: https://console.twilio.com/
# Account SID and Auth Token are on the main dashboard
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token

# Optional: Use an existing Twilio number instead of provisioning a new one
# This skips the phone search/purchase flow in onboarding
# Format MUST be E.164 with + and country code: +14074568607
TWILIO_PHONE_NUMBER=+14074568607

# Messaging Service SID for A2P 10DLC compliance (recommended for SMS)
# Create one at: https://console.twilio.com/us1/develop/sms/services
TWILIO_MESSAGING_SERVICE_SID=your-messaging-service-sid

# ==============================================================================
# Retell.ai [REQUIRED for voice AI]
# ==============================================================================
# Get from: https://dashboard.retell.ai/
RETELL_API_KEY=your-retell-api-key

# Optional: Demo agent for website try-before-signup
RETELL_DEMO_AGENT_ID=your-demo-agent-id

# Webhook secret for signature verification
RETELL_WEBHOOK_SECRET=your-retell-webhook-secret

# ==============================================================================
# Claude API [REQUIRED for prompt generation]
# ==============================================================================
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-...

# ==============================================================================
# Stripe [REQUIRED for payments]
# ==============================================================================
# Get these from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_...
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Price IDs for each plan (create these in Stripe Dashboard)
STRIPE_PRICE_STARTER=price_...
STRIPE_PRICE_PROFESSIONAL=price_...
STRIPE_PRICE_BUSINESS=price_...

# ==============================================================================
# Rate Limiting - Upstash Redis [RECOMMENDED]
# ==============================================================================
# Get these from: https://console.upstash.com/redis
# Create a new Redis database and copy the REST credentials
UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-upstash-token-here

# ==============================================================================
# Nylas [REQUIRED for calendar + email]
# ==============================================================================
# Get from: https://dashboard.nylas.com/
NYLAS_API_KEY=nyla_...
NYLAS_CLIENT_ID=your-nylas-client-id
NYLAS_WEBHOOK_SECRET=your-nylas-webhook-secret

# ==============================================================================
# Inngest (Background Jobs) [REQUIRED]
# ==============================================================================
# For local development:
INNGEST_EVENT_KEY=local
INNGEST_SIGNING_KEY=signkey-test-12345678

# For production, get from: https://app.inngest.com
# INNGEST_EVENT_KEY=your-event-key
# INNGEST_SIGNING_KEY=your-signing-key

# ==============================================================================
# Cron Jobs [REQUIRED for scheduled tasks]
# ==============================================================================
# Generate a random string: openssl rand -hex 32
CRON_SECRET=your-random-secret-here

# ==============================================================================
# Admin Configuration [OPTIONAL]
# ==============================================================================
# Comma-separated list of admin email addresses
# ADMIN_EMAILS=admin@koyacaller.com,founder@koyacaller.com

# ==============================================================================
# Integrations [OPTIONAL]
# ==============================================================================
# These enable third-party integrations that the AI can use during calls

# Shopify - https://partners.shopify.com/ (create a custom app)
SHOPIFY_CLIENT_ID=
SHOPIFY_CLIENT_SECRET=

# Square - https://developer.squareup.com/apps
SQUARE_CLIENT_ID=
SQUARE_CLIENT_SECRET=

# Stripe Connect - https://dashboard.stripe.com/settings/connect
# (Different from regular Stripe keys - this is for collecting payments on behalf of businesses)
STRIPE_CONNECT_CLIENT_ID=

# HubSpot - https://developers.hubspot.com/
HUBSPOT_CLIENT_ID=
HUBSPOT_CLIENT_SECRET=

# Salesforce - https://developer.salesforce.com/
SALESFORCE_CLIENT_ID=
SALESFORCE_CLIENT_SECRET=

# OpenTable - https://developer.opentable.com/ (partner access required)
OPENTABLE_CLIENT_ID=
OPENTABLE_CLIENT_SECRET=

# Mindbody - https://developers.mindbodyonline.com/ (partner access required)
MINDBODY_CLIENT_ID=
MINDBODY_CLIENT_SECRET=
